<mat-card class="mt-4"
          *ngIf="doctorInfo$ | async as doctorInfo else loading">
    <mat-card-header>
        <mat-card-title>Zaktualizuj informacje lekarskie</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="form">
            <div class="row">
                <mat-form-field class="col-12">
                    <mat-label>O Tobie</mat-label>
                    <textarea matInput
                              formControlName="aboutMe"
                              placeholder="O Tobie"
                              cdkTextareaAutosize
                              cdkAutosizeMinRows="5"
                              cdkAutosizeMaxRows="10">
                                </textarea>
                    <mat-error>
                        <ds-error-message [control]="form.controls.aboutMe"></ds-error-message>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="row">
                <mat-form-field class="col-md-6 col-lg-5 col-xl-4">
                    <mat-label>Specjalizacja</mat-label>
                    <input formControlName="specialization"
                           matInput
                           placeholder="Specjalizacja">
                    <mat-error>
                        <ds-error-message [control]="form.controls.specialization"></ds-error-message>
                    </mat-error>
                </mat-form-field>
            </div>
        </form>
    </mat-card-content>
    <mat-card-actions align="end">
        <button mat-flat-button
                [routerLink]="'/doctor-panel'"
                class="me-2">
            Anuluj
        </button>
        <ds-spinner-button (clicked)="save()"
                           [isLoading]="isSaving$ | async">
            Zapisz
        </ds-spinner-button>
    </mat-card-actions>
</mat-card>

<ng-template #loading>
    <ds-spinner></ds-spinner>
</ng-template>
